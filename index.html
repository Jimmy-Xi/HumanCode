<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MBTI 旗舰版人格测评 2025 | NeuroMatrix Concept</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome 图标 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Chart.js 图表库 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'neon-blue': '#00f3ff',
                        'neon-purple': '#bc13fe',
                        'deep-space': '#050b14',
                        'glass-border': 'rgba(255, 255, 255, 0.08)',
                    },
                    animation: {
                        'spin-slow': 'spin 12s linear infinite',
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'scan': 'scan 2s linear infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'width-grow': 'widthGrow 0.5s ease-out forwards',
                    },
                    keyframes: {
                        scan: {
                            '0%': { transform: 'translateY(-100%)' },
                            '100%': { transform: 'translateY(200%)' }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        widthGrow: {
                            '0%': { width: '0%' },
                            '100%': { width: '100%' }
                        }
                    },
                    fontFamily: {
                        'mono': ['ui-monospace', 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', "Liberation Mono", "Courier New", 'monospace'],
                    }
                }
            }
        }
    </script>

    <style>
        /* === 全局基础样式 === */
        html, body {
            font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background-color: #050b14;
            color: #e2e8f0;
            min-height: 100vh;
            margin: 0;
            padding: 0;
            -webkit-overflow-scrolling: touch; 
            overflow-x: hidden;
            user-select: none;
            -webkit-user-select: none;
        }

        /* 动态神经背景 Canvas */
        #neural-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        /* === 动画效果 === */
        .fade-in { animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px) scale(0.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
        
        .slide-out-left { animation: slideOutLeft 0.4s cubic-bezier(0.5, 0, 0.75, 0) forwards; }
        .slide-in-right { animation: slideInRight 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards; }
        @keyframes slideOutLeft { to { opacity: 0; transform: translateX(-40px) scale(0.95); filter: blur(4px); } }
        @keyframes slideInRight { from { opacity: 0; transform: translateX(40px) scale(0.95); filter: blur(4px); } to { opacity: 1; transform: translateX(0) scale(1); filter: blur(0); } }

        /* === 玻璃拟态容器 === */
        .glass-panel {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.36);
        }
        
        /* === 扫描光效按钮 === */
        .btn-scan { position: relative; overflow: hidden; }
        .btn-scan::after {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, transparent, rgba(0, 243, 255, 0.2), transparent);
            transform: translateY(-100%);
        }
        .btn-scan:hover::after { animation: scan 1.5s linear infinite; }

        /* === 报告排版 === */
        .report-section h3 {
            display: flex; align-items: center; color: #f1f5f9;
            font-size: 1.1rem; font-weight: 700; margin-top: 2.5rem; margin-bottom: 1.2rem;
            border-bottom: 1px solid rgba(0, 243, 255, 0.3); padding-bottom: 0.5rem;
        }
        .report-section h3 i { margin-right: 0.8rem; color: #00f3ff; }
        .report-section p { margin-bottom: 1rem; line-height: 1.8; color: #94a3b8; font-size: 0.95rem; text-align: justify; }
        
        .report-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.4), rgba(15, 23, 42, 0.4));
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-left: 2px solid #00f3ff;
            padding: 1rem;
            margin-bottom: 0.8rem;
            transition: transform 0.3s;
        }
        .report-card:hover { transform: translateX(5px); background: rgba(30, 41, 59, 0.6); }

        /* === 全息核心动画 === */
        .holo-ring {
            position: absolute; border-radius: 50%; border: 1px solid transparent;
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.1);
        }
        .hr-1 { inset: 0; border-top: 2px solid #00f3ff; animation: spin 6s linear infinite; }
        .hr-2 { inset: 15px; border-left: 2px solid #bc13fe; animation: spin 8s linear infinite reverse; }
        .hr-3 { inset: 30px; border-bottom: 2px solid #ffffff; animation: spin 4s linear infinite; opacity: 0.5; }
        
        /* === 滚动条 === */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 2px; }
    </style>
</head>
<body class="flex items-center justify-center md:p-6 lg:p-8 overflow-hidden">

    <!-- 动态神经背景 -->
    <canvas id="neural-bg"></canvas>

    <!-- 主应用容器 -->
    <div id="app-container" class="glass-panel w-full max-w-[1200px] md:rounded-[2rem] flex flex-col md:flex-row relative transition-all duration-700 overflow-hidden h-screen md:h-[800px] border-t border-white/10">
        
        <!-- 左侧仪表盘 (Dashboard) -->
        <div class="bg-[#0a1120]/80 md:w-72 p-6 flex flex-col justify-between relative z-20 border-b md:border-b-0 md:border-r border-white/5 shrink-0 backdrop-blur-md">
            <div class="relative z-10">
                <!-- Logo Area -->
                <div class="flex items-center gap-3 mb-8">
                    <div class="w-8 h-8 rounded bg-gradient-to-br from-neon-blue to-indigo-600 flex items-center justify-center shadow-[0_0_15px_rgba(0,243,255,0.4)]">
                        <i class="fas fa-brain text-white text-xs"></i>
                    </div>
                    <div>
                        <div class="text-[10px] text-neon-blue font-mono tracking-widest">NEUROMATRIX</div>
                        <div class="text-lg font-bold text-white tracking-tight leading-none">旗舰版 2025</div>
                    </div>
                </div>

                <!-- 状态指示器 -->
                <div class="space-y-4 hidden md:block">
                    <div class="flex justify-between items-center text-[10px] text-slate-500 font-mono">
                        <span>系统状态</span>
                        <span class="text-green-400">在线 <i class="fas fa-circle text-[6px] ml-1 animate-pulse"></i></span>
                    </div>
                    <div class="flex justify-between items-center text-[10px] text-slate-500 font-mono">
                        <span>数据库连接</span>
                        <span class="text-neon-blue">安全</span>
                    </div>
                    <div id="mode-indicator" class="opacity-0 transition-opacity duration-500">
                        <div class="h-px w-full bg-white/10 my-3"></div>
                        <span class="text-[10px] text-slate-400 font-mono block mb-1">当前模式</span>
                        <span class="text-xs font-bold text-white bg-white/10 px-2 py-1 rounded border border-white/5 inline-block" id="mode-name-text">--</span>
                    </div>
                </div>
            </div>

            <!-- 侧边栏进度 (仅桌面) -->
            <div id="sidebar-stats" class="opacity-0 transition-opacity duration-500 translate-y-4 md:translate-y-0">
                <div class="flex justify-between items-end mb-2 font-mono text-[10px] text-slate-400">
                    <span>分析进度</span>
                    <span class="text-neon-blue font-bold text-base" id="percentage-display">0%</span>
                </div>
                <div class="h-1 w-full bg-slate-800/50 rounded-full overflow-hidden backdrop-blur-sm">
                    <div id="sidebar-progress" class="h-full bg-gradient-to-r from-neon-blue via-indigo-500 to-neon-purple relative shadow-[0_0_10px_rgba(0,243,255,0.5)]" style="width: 0%">
                        <div class="absolute top-0 right-0 h-full w-2 bg-white blur-[2px]"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 右侧交互区 -->
        <div class="flex-1 relative bg-gradient-to-b from-transparent to-[#050b14]/50 flex flex-col">
            
            <!-- 1. 欢迎界面 -->
            <div id="start-screen" class="absolute inset-0 flex flex-col justify-center p-8 md:p-16 z-30 fade-in">
                <!-- 浮动装饰元素 -->
                <div class="absolute top-10 right-10 w-32 h-32 border border-neon-blue/20 rounded-full animate-spin-slow border-dashed hidden md:block"></div>
                <div class="absolute bottom-20 left-10 w-3 h-3 bg-neon-purple shadow-[0_0_15px_#bc13fe] rounded-full animate-float"></div>

                <div class="max-w-2xl relative z-10">
                    <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/10 text-neon-blue text-xs font-mono mb-6 backdrop-blur-sm">
                        <i class="fas fa-bolt"></i> 量子分析引擎 V5.0
                    </div>
                    <h1 class="text-5xl md:text-7xl font-black text-white mb-6 tracking-tight">
                        探索你的<br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-white via-neon-blue to-neon-purple animate-gradient">精神内核</span>
                    </h1>
                    <p class="text-slate-400 text-lg mb-12 max-w-lg leading-relaxed border-l-2 border-white/10 pl-4">
                        融合荣格认知功能理论与 2025 神经网络模型。<br>
                        这不仅是测试，更是对潜意识的精准解码。
                    </p>

                    <div class="flex flex-col sm:flex-row gap-4">
                        <button onclick="startQuiz('simple')" class="btn-scan group relative overflow-hidden bg-slate-800/50 hover:bg-neon-blue/10 border border-white/10 hover:border-neon-blue/50 px-8 py-5 rounded-xl text-left transition-all duration-300">
                            <div class="flex items-center justify-between mb-1">
                                <span class="text-sm font-bold text-white group-hover:text-neon-blue transition-colors">快速扫描</span>
                                <i class="fas fa-arrow-right text-slate-500 group-hover:text-neon-blue transform group-hover:translate-x-1 transition-all"></i>
                            </div>
                            <div class="text-xs text-slate-500 font-mono">32 题 · 预计 3 分钟</div>
                        </button>

                        <button onclick="startQuiz('pro')" class="btn-scan group relative overflow-hidden bg-indigo-900/20 hover:bg-indigo-600/20 border border-indigo-500/30 hover:border-indigo-400/80 px-8 py-5 rounded-xl text-left transition-all duration-300 shadow-[0_0_20px_rgba(79,70,229,0.1)] hover:shadow-[0_0_30px_rgba(79,70,229,0.3)]">
                            <div class="absolute top-0 right-0 bg-indigo-600 text-white text-[10px] font-bold px-2 py-0.5 rounded-bl">PRO</div>
                            <div class="flex items-center justify-between mb-1">
                                <span class="text-sm font-bold text-indigo-300 group-hover:text-white transition-colors">深度全息解析</span>
                                <i class="fas fa-dna text-indigo-500 group-hover:text-white transform group-hover:rotate-90 transition-all"></i>
                            </div>
                            <div class="text-xs text-slate-500 font-mono group-hover:text-slate-300">100 题 · 预计 12 分钟</div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 2. 答题界面 -->
            <div id="quiz-screen" class="absolute inset-0 flex flex-col hidden z-20 bg-[#050b14]/80 backdrop-blur-xl">
                
                <!-- 顶部进度条 (新增优化) -->
                <div class="w-full h-1 bg-white/5 relative">
                    <div id="top-progress-bar" class="h-full bg-gradient-to-r from-neon-blue to-neon-purple shadow-[0_0_10px_#00f3ff] transition-all duration-500 ease-out" style="width: 0%"></div>
                </div>

                <div class="flex-1 overflow-y-auto p-6 md:p-16 pb-32">
                    <div class="max-w-3xl mx-auto w-full relative min-h-[400px]" id="question-container">
                        
                        <!-- 顶部控制条 -->
                        <div class="flex justify-between items-center mb-10 border-b border-white/5 pb-4">
                            <div class="flex items-end gap-3">
                                <span class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-b from-white to-slate-600 font-mono" id="question-counter-text">01</span>
                                <div class="flex flex-col">
                                    <span class="text-[10px] text-slate-500 font-mono uppercase mb-0.5">Question Sequence</span>
                                    <span class="text-xs text-slate-400">请凭借直觉作答</span>
                                </div>
                            </div>
                            <button onclick="goHome()" class="group px-4 py-2 rounded-lg border border-white/10 flex items-center gap-2 text-slate-500 hover:text-red-400 hover:bg-white/5 hover:border-red-400/30 transition-colors">
                                <span class="text-xs hidden sm:inline">中断测试</span>
                                <i class="fas fa-power-off text-xs"></i>
                            </button>
                        </div>
                        
                        <!-- 问题卡片 -->
                        <h3 id="question-text" class="text-2xl md:text-3xl font-bold text-slate-200 mb-12 leading-snug">
                            加载数据流...
                        </h3>

                        <!-- 选项 -->
                        <div class="space-y-5">
                            <button id="btn-option-a" onclick="selectOption('A')" class="group w-full p-6 rounded-2xl border border-white/10 bg-white/5 hover:bg-indigo-600/20 hover:border-indigo-500/50 transition-all duration-300 text-left flex items-center relative overflow-hidden shadow-sm hover:shadow-indigo-500/20">
                                <div class="absolute inset-0 bg-gradient-to-r from-indigo-600/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                <div class="w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-lg font-bold mr-6 text-slate-400 group-hover:text-white group-hover:bg-indigo-500 group-hover:border-indigo-400 transition-all font-mono z-10 flex-shrink-0">A</div>
                                <span id="option-a-text" class="text-lg text-slate-300 group-hover:text-white z-10 transition-colors">选项 A 内容</span>
                            </button>

                            <button id="btn-option-b" onclick="selectOption('B')" class="group w-full p-6 rounded-2xl border border-white/10 bg-white/5 hover:bg-purple-600/20 hover:border-purple-500/50 transition-all duration-300 text-left flex items-center relative overflow-hidden shadow-sm hover:shadow-purple-500/20">
                                <div class="absolute inset-0 bg-gradient-to-r from-purple-600/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                <div class="w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-lg font-bold mr-6 text-slate-400 group-hover:text-white group-hover:bg-purple-500 group-hover:border-purple-400 transition-all font-mono z-10 flex-shrink-0">B</div>
                                <span id="option-b-text" class="text-lg text-slate-300 group-hover:text-white z-10 transition-colors">选项 B 内容</span>
                            </button>
                        </div>
                        
                        <!-- 返回按钮 -->
                        <button id="btn-prev" onclick="prevQuestion()" class="mt-8 text-slate-500 hover:text-white text-sm flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-white/5 transition-all opacity-0">
                            <i class="fas fa-arrow-left"></i> 返回上一题
                        </button>
                    </div>
                </div>
            </div>

            <!-- 3. 计算中 -->
            <div id="loading-screen" class="absolute inset-0 flex flex-col justify-center items-center hidden z-40 bg-[#050b14] backdrop-blur-3xl">
                <div class="relative w-64 h-64 flex items-center justify-center mb-8">
                    <div class="absolute inset-0 border-t border-neon-blue/30 rounded-full animate-spin"></div>
                    <div class="absolute inset-4 border-r border-neon-purple/30 rounded-full animate-spin-slow"></div>
                    <div class="absolute inset-10 border-b border-white/20 rounded-full animate-[spin_3s_linear_infinite]"></div>
                    <div class="text-4xl font-black text-white tracking-widest animate-pulse" id="loading-percent">0%</div>
                </div>
                
                <div class="h-8 overflow-hidden relative">
                    <div class="text-neon-blue font-mono text-sm tracking-widest animate-pulse" id="loading-text">正在初始化...</div>
                </div>
                
                <div class="absolute bottom-0 w-full h-1/3 bg-gradient-to-t from-neon-blue/5 to-transparent pointer-events-none"></div>
            </div>

            <!-- 4. 结果展示 -->
            <div id="result-screen" class="absolute inset-0 overflow-y-auto hidden z-20 fade-in scroll-smooth">
                <div class="p-6 md:p-12 max-w-6xl mx-auto pb-32">
                    
                    <!-- 头部身份卡 -->
                    <div class="glass-panel rounded-3xl p-8 md:p-12 relative overflow-hidden mb-8 group">
                        <div class="absolute top-0 right-0 w-[300px] h-[300px] bg-neon-blue/10 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2"></div>
                        
                        <div class="relative z-10 flex flex-col lg:flex-row items-center gap-10">
                            <!-- 左侧全息核心 -->
                            <div class="relative w-40 h-40 flex-shrink-0 flex items-center justify-center">
                                <div class="holo-ring hr-1"></div>
                                <div class="holo-ring hr-2"></div>
                                <div class="holo-ring hr-3"></div>
                                <div class="text-5xl text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.8)] animate-float">
                                    <i class="fas fa-cube"></i>
                                </div>
                            </div>

                            <!-- 中间信息 -->
                            <div class="text-center lg:text-left flex-1">
                                <div class="text-neon-blue font-mono text-xs tracking-[0.3em] mb-2">身份已确认</div>
                                <h1 id="result-type" class="text-7xl md:text-8xl font-black text-white tracking-tighter leading-none mb-2 drop-shadow-[0_0_20px_rgba(255,255,255,0.2)]">INTJ</h1>
                                <h2 id="result-title" class="text-2xl md:text-3xl text-slate-300 font-light tracking-wide mb-6">战略家 / The Architect</h2>
                                <div class="flex flex-wrap justify-center lg:justify-start gap-3">
                                    <span class="px-3 py-1.5 rounded bg-white/5 border border-white/10 text-xs text-slate-300 font-mono flex items-center gap-2">
                                        <i class="fas fa-fingerprint text-neon-purple"></i> 稀有度: <span id="rarity-tag" class="text-white font-bold">--</span>
                                    </span>
                                    <span class="px-3 py-1.5 rounded bg-white/5 border border-white/10 text-xs text-slate-300 font-mono flex items-center gap-2">
                                        <i class="fas fa-brain text-neon-blue"></i> 策略型
                                    </span>
                                </div>
                            </div>

                            <!-- 右侧雷达 -->
                            <div class="w-full max-w-[240px] aspect-square relative bg-white/5 rounded-full p-4 backdrop-blur-sm border border-white/5">
                                <canvas id="radarChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- 核心维度 -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                        <!-- E/I -->
                        <div class="bg-[#0f172a]/60 border border-white/5 p-5 rounded-xl backdrop-blur-sm">
                            <div class="flex justify-between text-xs text-slate-400 mb-3 font-mono">
                                <span>能量流向</span>
                                <span class="text-white">E vs I</span>
                            </div>
                            <div class="relative h-10 flex items-center">
                                <div class="absolute w-full h-2 bg-slate-800 rounded-full overflow-hidden flex">
                                    <div id="bar-e" class="h-full bg-neon-blue shadow-[0_0_10px_#00f3ff]" style="width: 50%"></div>
                                    <div id="bar-i" class="h-full bg-slate-700" style="width: 50%"></div>
                                </div>
                                <div class="w-full flex justify-between px-1 relative z-10">
                                    <span class="text-sm font-bold text-white drop-shadow-md" id="text-e-val">50%</span>
                                    <span class="text-sm font-bold text-white drop-shadow-md" id="text-i-val">50%</span>
                                </div>
                            </div>
                        </div>
                         <!-- S/N -->
                         <div class="bg-[#0f172a]/60 border border-white/5 p-5 rounded-xl backdrop-blur-sm">
                            <div class="flex justify-between text-xs text-slate-400 mb-3 font-mono">
                                <span>信息获取</span>
                                <span class="text-white">S vs N</span>
                            </div>
                            <div class="relative h-10 flex items-center">
                                <div class="absolute w-full h-2 bg-slate-800 rounded-full overflow-hidden flex">
                                    <div id="bar-s" class="h-full bg-neon-purple shadow-[0_0_10px_#bc13fe]" style="width: 50%"></div>
                                    <div id="bar-n" class="h-full bg-slate-700" style="width: 50%"></div>
                                </div>
                                <div class="w-full flex justify-between px-1 relative z-10">
                                    <span class="text-sm font-bold text-white drop-shadow-md" id="text-s-val">50%</span>
                                    <span class="text-sm font-bold text-white drop-shadow-md" id="text-n-val">50%</span>
                                </div>
                            </div>
                        </div>
                        <!-- T/F -->
                        <div class="bg-[#0f172a]/60 border border-white/5 p-5 rounded-xl backdrop-blur-sm">
                            <div class="flex justify-between text-xs text-slate-400 mb-3 font-mono">
                                <span>决策依据</span>
                                <span class="text-white">T vs F</span>
                            </div>
                            <div class="relative h-10 flex items-center">
                                <div class="absolute w-full h-2 bg-slate-800 rounded-full overflow-hidden flex">
                                    <div id="bar-t" class="h-full bg-emerald-500 shadow-[0_0_10px_#10b981]" style="width: 50%"></div>
                                    <div id="bar-f" class="h-full bg-slate-700" style="width: 50%"></div>
                                </div>
                                <div class="w-full flex justify-between px-1 relative z-10">
                                    <span class="text-sm font-bold text-white drop-shadow-md" id="text-t-val">50%</span>
                                    <span class="text-sm font-bold text-white drop-shadow-md" id="text-f-val">50%</span>
                                </div>
                            </div>
                        </div>
                        <!-- J/P -->
                        <div class="bg-[#0f172a]/60 border border-white/5 p-5 rounded-xl backdrop-blur-sm">
                            <div class="flex justify-between text-xs text-slate-400 mb-3 font-mono">
                                <span>执行方式</span>
                                <span class="text-white">J vs P</span>
                            </div>
                            <div class="relative h-10 flex items-center">
                                <div class="absolute w-full h-2 bg-slate-800 rounded-full overflow-hidden flex">
                                    <div id="bar-j" class="h-full bg-orange-500 shadow-[0_0_10px_#f97316]" style="width: 50%"></div>
                                    <div id="bar-p" class="h-full bg-slate-700" style="width: 50%"></div>
                                </div>
                                <div class="w-full flex justify-between px-1 relative z-10">
                                    <span class="text-sm font-bold text-white drop-shadow-md" id="text-j-val">50%</span>
                                    <span class="text-sm font-bold text-white drop-shadow-md" id="text-p-val">50%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 新增：职业匹配与情感共鸣 -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                        <!-- 职业匹配 -->
                        <div class="lg:col-span-2 glass-panel p-6 rounded-2xl">
                            <h3 class="text-white font-bold mb-4 flex items-center"><i class="fas fa-briefcase text-neon-blue mr-2"></i> 职业信标匹配</h3>
                            <div class="grid grid-cols-2 sm:grid-cols-3 gap-4" id="career-list">
                                <!-- JS 生成 -->
                            </div>
                        </div>
                        <!-- 情感共鸣 -->
                        <div class="glass-panel p-6 rounded-2xl">
                            <h3 class="text-white font-bold mb-4 flex items-center"><i class="fas fa-heart text-pink-500 mr-2"></i> 情感共鸣</h3>
                            <div class="space-y-4" id="relationship-content">
                                <!-- JS 生成 -->
                            </div>
                        </div>
                    </div>

                    <!-- 深度分析文本 -->
                    <div id="result-content" class="report-section glass-panel p-8 rounded-2xl border-l-4 border-l-neon-blue"></div>
                    
                    <!-- 底部 Reset -->
                    <div class="mt-12 text-center">
                        <button onclick="goHome()" class="group px-8 py-3 rounded-full bg-white/5 hover:bg-white/10 border border-white/10 text-slate-400 hover:text-white transition-all font-mono text-sm flex items-center justify-center mx-auto gap-3">
                            <i class="fas fa-power-off group-hover:text-red-400 transition-colors"></i> 重启系统
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        /* ==========================================
           1. 动态神经元网络背景 (Canvas)
           ========================================== */
        const canvas = document.getElementById('neural-bg');
        const ctx = canvas.getContext('2d');
        let particles = [];
        const particleCount = window.innerWidth < 768 ? 40 : 80; // 移动端减少粒子
        const connectionDistance = 150;

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.vx = (Math.random() - 0.5) * 0.5;
                this.vy = (Math.random() - 0.5) * 0.5;
                this.size = Math.random() * 2 + 1;
                this.color = Math.random() > 0.5 ? 'rgba(0, 243, 255, ' : 'rgba(188, 19, 254, '; 
            }
            update() {
                this.x += this.vx;
                this.y += this.vy;
                if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
                if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
            }
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = this.color + '0.5)';
                ctx.fill();
            }
        }

        function initParticles() {
            particles = [];
            for (let i = 0; i < particleCount; i++) particles.push(new Particle());
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
                
                for (let j = i; j < particles.length; j++) {
                    const dx = particles[i].x - particles[j].x;
                    const dy = particles[i].y - particles[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < connectionDistance) {
                        ctx.beginPath();
                        ctx.strokeStyle = `rgba(255, 255, 255, ${0.1 - distance/connectionDistance * 0.1})`;
                        ctx.lineWidth = 1;
                        ctx.moveTo(particles[i].x, particles[i].y);
                        ctx.lineTo(particles[j].x, particles[j].y);
                        ctx.stroke();
                    }
                }
            }
            requestAnimationFrame(animateParticles);
        }
        initParticles();
        animateParticles();


       // ✅修改后代码片段（已补全 100 题，且选项文案里不再出现 E/S/N/T/F/J/P 字母）
const questions = [
    // ========= 1-25：外向(E) / 内向(I) =========
    {
        id: 1,
        text: "周末需要恢复能量时，你通常会：",
        optionA: { text: "约上朋友或参加活动，待在人群中", type: "E" },
        optionB: { text: "一个人待着，看书、刷剧或安静放松", type: "I" }
    },
    {
        id: 2,
        text: "在一个陌生的聚会中，你更可能：",
        optionA: { text: "主动找人聊天，快速融入氛围", type: "E" },
        optionB: { text: "先观察环境，慢慢适应再开口", type: "I" }
    },
    {
        id: 3,
        text: "结识新朋友时，你通常：",
        optionA: { text: "很自然地自我介绍并展开话题", type: "E" },
        optionB: { text: "等对方先开口，再决定要不要聊", type: "I" }
    },
    {
        id: 4,
        text: "长时间独处后，你的感受更接近：",
        optionA: { text: "有些闷，想找人聊聊天", type: "E" },
        optionB: { text: "感觉充电完毕，更有安全感", type: "I" }
    },
    {
        id: 5,
        text: "在课堂或会议上，你更倾向于：",
        optionA: { text: "主动发言、提问、表达观点", type: "E" },
        optionB: { text: "在心里想一想，很少主动举手", type: "I" }
    },
    {
        id: 6,
        text: "你更享受哪一种工作环境：",
        optionA: { text: "开放式办公室，大家随时交流", type: "E" },
        optionB: { text: "相对独立安静的空间，少干扰", type: "I" }
    },
    {
        id: 7,
        text: "当你到一个新城市旅行时，你更喜欢：",
        optionA: { text: "参加当地团体活动或结识当地人", type: "E" },
        optionB: { text: "自己安排行程，慢慢体验环境", type: "I" }
    },
    {
        id: 8,
        text: "你做决定时，更看重：",
        optionA: { text: "先跟身边的人讨论一圈再决定", type: "E" },
        optionB: { text: "自己在心里反复权衡后再说", type: "I" }
    },
    {
        id: 9,
        text: "如果一整天都在和别人互动，你会觉得：",
        optionA: { text: "挺满足的，虽然有点累但开心", type: "E" },
        optionB: { text: "很消耗，需要独处来恢复", type: "I" }
    },
    {
        id: 10,
        text: "在群聊或线上社群中，你更像：",
        optionA: { text: "经常发言、抛话题的人", type: "E" },
        optionB: { text: "偶尔冒泡，多数时候默默看", type: "I" }
    },
    {
        id: 11,
        text: "当你遇到有趣的事情，你第一反应是：",
        optionA: { text: "立刻想分享给朋友或发到社交平台", type: "E" },
        optionB: { text: "自己在心里回味，分享不分享无所谓", type: "I" }
    },
    {
        id: 12,
        text: "和陌生人同坐一桌吃饭时，你通常：",
        optionA: { text: "主动找共同话题聊起来", type: "E" },
        optionB: { text: "礼貌点头，除非对方先聊", type: "I" }
    },
    {
        id: 13,
        text: "对你来说，更容易的是：",
        optionA: { text: "临场聊天，想到什么说什么", type: "E" },
        optionB: { text: "写下来或事先在脑中组织好", type: "I" }
    },
    {
        id: 14,
        text: "当你进入一个新团队时，你更常：",
        optionA: { text: "快速认识大家，主动自我介绍", type: "E" },
        optionB: { text: "先观察团队氛围，再慢慢熟悉", type: "I" }
    },
    {
        id: 15,
        text: "和朋友相处，你更偏向：",
        optionA: { text: "朋友很多，圈子较大", type: "E" },
        optionB: { text: "朋友不多，但关系比较深", type: "I" }
    },
    {
        id: 16,
        text: "如果必须在两种工作中选一项，你会选：",
        optionA: { text: "需要频繁沟通、见很多人的岗位", type: "E" },
        optionB: { text: "更多独立完成、沟通较少的岗位", type: "I" }
    },
    {
        id: 17,
        text: "在公开场合表达自己时，你通常：",
        optionA: { text: "紧张但还是能比较自然地说出来", type: "E" },
        optionB: { text: "非常谨慎，能不说就尽量不说", type: "I" }
    },
    {
        id: 18,
        text: "你更容易被哪种描述形容：",
        optionA: { text: "外向开朗，比较容易亲近", type: "E" },
        optionB: { text: "安静克制，需要时间才能熟", type: "I" }
    },
    {
        id: 19,
        text: "参加团队讨论时，你更习惯：",
        optionA: { text: "边听边说，不断补充想法", type: "E" },
        optionB: { text: "先听完大家观点，再总结发言", type: "I" }
    },
    {
        id: 20,
        text: "当你遇到烦心事时，你更常：",
        optionA: { text: "找人倾诉，边说边理清思路", type: "E" },
        optionB: { text: "自己想很久，偶尔才会开口说", type: "I" }
    },
    {
        id: 21,
        text: "和一群人聚会后，你更常有的想法是：",
        optionA: { text: "下次还想再一起玩", type: "E" },
        optionB: { text: "需要缓一缓，近期先不要约", type: "I" }
    },
    {
        id: 22,
        text: "别人对你的第一印象多半是：",
        optionA: { text: "健谈、好相处、存在感强", type: "E" },
        optionB: { text: "安静、有点神秘、不太好读懂", type: "I" }
    },
    {
        id: 23,
        text: "在新的学习或工作环境中，你更像：",
        optionA: { text: "迅速认识一圈人，建立关系网", type: "E" },
        optionB: { text: "只和少数频繁接触的人熟起来", type: "I" }
    },
    {
        id: 24,
        text: "你更容易感到哪种无聊：",
        optionA: { text: "没人说话、氛围太安静", type: "E" },
        optionB: { text: "被迫一直社交、没有个人空间", type: "I" }
    },
    {
        id: 25,
        text: "当需要做出重要选择时，你更想要：",
        optionA: { text: "多征求身边人的意见", type: "E" },
        optionB: { text: "自己关起门来认真想清楚", type: "I" }
    },

    // ========= 26-50：感觉(S) / 直觉(N) =========
    {
        id: 26,
        text: "面对新知识，你更喜欢：",
        optionA: { text: "先弄清具体定义、例子和细节", type: "S" },
        optionB: { text: "先抓住整体框架和大概逻辑", type: "N" }
    },
    {
        id: 27,
        text: "学习一门新技能时，你更倾向：",
        optionA: { text: "按步骤一步一步练习", type: "S" },
        optionB: { text: "先理解原理，再自由发挥", type: "N" }
    },
    {
        id: 28,
        text: "看说明书或操作指南时，你通常：",
        optionA: { text: "认真按说明书一步步来", type: "S" },
        optionB: { text: "大致扫一眼就开始尝试", type: "N" }
    },
    {
        id: 29,
        text: "在听别人讲故事时，你更在意：",
        optionA: { text: "发生了什么、时间地点细节", type: "S" },
        optionB: { text: "故事想表达的含义和观点", type: "N" }
    },
    {
        id: 30,
        text: "你做事情时，更像是：",
        optionA: { text: "脚踏实地，先解决眼前问题", type: "S" },
        optionB: { text: "经常联想到以后可能发展成什么", type: "N" }
    },
    {
        id: 31,
        text: "面对一份长文档，你会：",
        optionA: { text: "从头到尾按顺序仔细阅读", type: "S" },
        optionB: { text: "先看目录、大标题再决定重点", type: "N" }
    },
    {
        id: 32,
        text: "别人夸你时，更常说你：",
        optionA: { text: "细心、靠谱、做事很稳", type: "S" },
        optionB: { text: "有创意、有想法、点子多", type: "N" }
    },
    {
        id: 33,
        text: "你更容易记住的是：",
        optionA: { text: "实际发生过的画面和细节", type: "S" },
        optionB: { text: "当时的感受和背后的意义", type: "N" }
    },
    {
        id: 34,
        text: "在做计划时，你更关注：",
        optionA: { text: "可行性、资源和现实条件", type: "S" },
        optionB: { text: "如果顺利的话会带来什么改变", type: "N" }
    },
    {
        id: 35,
        text: "如果必须在两种任务中选一项，你会选：",
        optionA: { text: "重复但稳定、流程清晰的工作", type: "S" },
        optionB: { text: "变化多、需要不断想新点子的工作", type: "N" }
    },
    {
        id: 36,
        text: "看到一个新产品时，你更会关注：",
        optionA: { text: "做工、材质、参数等具体信息", type: "S" },
        optionB: { text: "它可能会改变哪些生活方式", type: "N" }
    },
    {
        id: 37,
        text: "在团队中，你更擅长：",
        optionA: { text: "把想法落地成具体步骤", type: "S" },
        optionB: { text: "提出新方向、新构想", type: "N" }
    },
    {
        id: 38,
        text: "你更倾向于相信：",
        optionA: { text: "眼前看得见摸得着的东西", type: "S" },
        optionB: { text: "尚未发生但合乎逻辑的可能性", type: "N" }
    },
    {
        id: 39,
        text: "你更享受哪种内容：",
        optionA: { text: "真实生活 vlog、纪录片", type: "S" },
        optionB: { text: "科幻设定、世界观构建类故事", type: "N" }
    },
    {
        id: 40,
        text: "当别人提出一个大胆想法时，你的第一反应：",
        optionA: { text: "先想想现实中是否可行", type: "S" },
        optionB: { text: "先觉得有趣，想象它的发展", type: "N" }
    },
    {
        id: 41,
        text: "你对“细节”与“创意”的偏好更接近：",
        optionA: { text: "细节到位更重要，创意其次", type: "S" },
        optionB: { text: "有创意更重要，细节可以慢慢补", type: "N" }
    },
    {
        id: 42,
        text: "在学习时，你更习惯：",
        optionA: { text: "做大量练习题来巩固", type: "S" },
        optionB: { text: "自己总结模型和原理", type: "N" }
    },
    {
        id: 43,
        text: "你更容易被哪种任务拖住：",
        optionA: { text: "复杂但清晰、只是量大的事务", type: "S" },
        optionB: { text: "方向模糊、需要自己想出方案的事", type: "N" }
    },
    {
        id: 44,
        text: "面对“空想家”和“老黄牛”，你更像：",
        optionA: { text: "偏向脚踏实地的老黄牛", type: "S" },
        optionB: { text: "偏向爱构想的空想者", type: "N" }
    },
    {
        id: 45,
        text: "当要解释一个概念给别人听时，你更常：",
        optionA: { text: "举身边具体的例子", type: "S" },
        optionB: { text: "先说原理，再类比延伸", type: "N" }
    },
    {
        id: 46,
        text: "你做选择时，更在意：",
        optionA: { text: "此刻实际得到什么", type: "S" },
        optionB: { text: "它将来可能带来的长远影响", type: "N" }
    },
    {
        id: 47,
        text: "当别人说“感觉不太对”时，你更会：",
        optionA: { text: "追问具体哪里不对", type: "S" },
        optionB: { text: "先接受直觉，再慢慢找原因", type: "N" }
    },
    {
        id: 48,
        text: "你更容易沉迷哪种体验：",
        optionA: { text: "手作、烹饪、拼装等动手类", type: "S" },
        optionB: { text: "脑中构思、设想未来场景", type: "N" }
    },
    {
        id: 49,
        text: "别人觉得你更擅长：",
        optionA: { text: "把事情做得扎实可靠", type: "S" },
        optionB: { text: "想到别人想不到的点子", type: "N" }
    },
    {
        id: 50,
        text: "如果只能保留一种能力，你更想要：",
        optionA: { text: "一步一步把事情做成的耐心", type: "S" },
        optionB: { text: "一眼看到趋势和可能性的洞察力", type: "N" }
    },

    // ========= 51-75：思考(T) / 情感(F) =========
    {
        id: 51,
        text: "在做决定时，你更偏向：",
        optionA: { text: "先看利弊和逻辑是否合理", type: "T" },
        optionB: { text: "先考虑自己和他人的感受", type: "F" }
    },
    {
        id: 52,
        text: "当你和别人意见不合时，你会：",
        optionA: { text: "直接谈论问题本身，尝试说服对方", type: "T" },
        optionB: { text: "注意语气，尽量不伤害对方感受", type: "F" }
    },
    {
        id: 53,
        text: "别人评价你时，更容易说：",
        optionA: { text: "理性客观，有时有点冷", type: "T" },
        optionB: { text: "体贴温和，有时有点软", type: "F" }
    },
    {
        id: 54,
        text: "面对一个难题，你更像：",
        optionA: { text: "拆解问题、分析原因和结构", type: "T" },
        optionB: { text: "先看会影响到谁、大家会怎样", type: "F" }
    },
    {
        id: 55,
        text: "在团队决策中，你更看重：",
        optionA: { text: "效率、公平和最佳方案", type: "T" },
        optionB: { text: "团队氛围和每个人的感受", type: "F" }
    },
    {
        id: 56,
        text: "当别人向你倾诉时，你更常：",
        optionA: { text: "帮对方分析解决办法", type: "T" },
        optionB: { text: "先共情安慰，再慢慢谈解决", type: "F" }
    },
    {
        id: 57,
        text: "你更容易被哪种情景触动：",
        optionA: { text: "看到一个复杂问题被完美解决", type: "T" },
        optionB: { text: "看到一个人被真心理解和接纳", type: "F" }
    },
    {
        id: 58,
        text: "当你觉得某人错误时，你通常：",
        optionA: { text: "直接指出来，觉得有必要纠正", type: "T" },
        optionB: { text: "斟酌表达方式，避免对方难堪", type: "F" }
    },
    {
        id: 59,
        text: "你更认同哪一种说法：",
        optionA: { text: "正确比好听更重要", type: "T" },
        optionB: { text: "好听但真诚的方式更重要", type: "F" }
    },
    {
        id: 60,
        text: "当需要批评别人工作时，你会：",
        optionA: { text: "直截了当指出问题所在", type: "T" },
        optionB: { text: "先肯定再委婉提出建议", type: "F" }
    },
    {
        id: 61,
        text: "你做选择时，更能接受：",
        optionA: { text: "对事不对人，有时显得冷酷", type: "T" },
        optionB: { text: "为照顾感受牺牲一点效率", type: "F" }
    },
    {
        id: 62,
        text: "你对“逻辑正确但伤人”的评价是：",
        optionA: { text: "虽然不好听，但至少是真话", type: "T" },
        optionB: { text: "说话方式不对，会破坏关系", type: "F" }
    },
    {
        id: 63,
        text: "你更愿意别人怎样对你：",
        optionA: { text: "诚实直接，不拐弯抹角", type: "T" },
        optionB: { text: "体贴委婉，注意你的情绪", type: "F" }
    },
    {
        id: 64,
        text: "当你犯错时，你更容易：",
        optionA: { text: "关注哪里判断失误、如何改进", type: "T" },
        optionB: { text: "关注是否让别人失望或担心", type: "F" }
    },
    {
        id: 65,
        text: "在讨论中，你更常：",
        optionA: { text: "不断提出反驳和修正观点", type: "T" },
        optionB: { text: "更关注大家是否相互理解", type: "F" }
    },
    {
        id: 66,
        text: "你更欣赏哪种人：",
        optionA: { text: "极其理智清醒、判断精准的人", type: "T" },
        optionB: { text: "极其善良温柔、懂得照顾他人的人", type: "F" }
    },
    {
        id: 67,
        text: "在处理冲突时，你更关注：",
        optionA: { text: "事情本身谁对谁错", type: "T" },
        optionB: { text: "怎么让双方都能接受", type: "F" }
    },
    {
        id: 68,
        text: "你更害怕哪一种自己：",
        optionA: { text: "被情绪左右，失去判断力", type: "T" },
        optionB: { text: "过于冷漠，不再关心他人感受", type: "F" }
    },
    {
        id: 69,
        text: "在工作中，你更看重：",
        optionA: { text: "能力和结果是否达标", type: "T" },
        optionB: { text: "人际关系是否和谐", type: "F" }
    },
    {
        id: 70,
        text: "当你需要给别人打分时，你更可能：",
        optionA: { text: "严格按标准来，不容易给高分", type: "T" },
        optionB: { text: "会考虑对方努力程度与处境", type: "F" }
    },
    {
        id: 71,
        text: "你对“感性”这个词的感受更接近：",
        optionA: { text: "容易不理性，需要控制", type: "T" },
        optionB: { text: "让人有温度，是宝贵的特质", type: "F" }
    },
    {
        id: 72,
        text: "别人更常向你求助的是：",
        optionA: { text: "分析问题、帮忙出主意", type: "T" },
        optionB: { text: "倾诉情绪、寻求安慰", type: "F" }
    },
    {
        id: 73,
        text: "面对“不公平但有人受益”的情况，你更在意：",
        optionA: { text: "规则被破坏，这是问题", type: "T" },
        optionB: { text: "有人因此得到帮助也算不错", type: "F" }
    },
    {
        id: 74,
        text: "在亲密关系中，你更可能：",
        optionA: { text: "用行动和解决问题来表达爱", type: "T" },
        optionB: { text: "用陪伴和情绪回应来表达爱", type: "F" }
    },
    {
        id: 75,
        text: "如果必须选一个，你更希望被认为：",
        optionA: { text: "非常聪明、判断准确", type: "T" },
        optionB: { text: "非常善良、值得信任", type: "F" }
    },

    // ========= 76-100：判断(J) / 知觉(P) =========
    {
        id: 76,
        text: "面对一份作业或项目，你通常：",
        optionA: { text: "提前规划，尽量早些完成", type: "J" },
        optionB: { text: "边拖边做，依靠最后的冲刺", type: "P" }
    },
    {
        id: 77,
        text: "你更喜欢哪种生活状态：",
        optionA: { text: "有计划、有节奏，基本按表走", type: "J" },
        optionB: { text: "相对自由，随时可以调整安排", type: "P" }
    },
    {
        id: 78,
        text: "制定计划后，你更常：",
        optionA: { text: "尽量按照计划执行", type: "J" },
        optionB: { text: "把计划当参考，随时可以改", type: "P" }
    },
    {
        id: 79,
        text: "出门旅行时，你更偏向：",
        optionA: { text: "提前查好路线、景点和时间表", type: "J" },
        optionB: { text: "大致有方向，现场看情况再决定", type: "P" }
    },
    {
        id: 80,
        text: "当事情突然被打乱原计划时，你会：",
        optionA: { text: "比较烦躁，需要重新安排", type: "J" },
        optionB: { text: "觉得还好，顺势调整就行", type: "P" }
    },
    {
        id: 81,
        text: "你对“截止日期”的态度更像：",
        optionA: { text: "最好提前完成才安心", type: "J" },
        optionB: { text: "会做到，但多半靠临近时爆发", type: "P" }
    },
    {
        id: 82,
        text: "你的桌面或房间通常：",
        optionA: { text: "相对整洁，有基本分类", type: "J" },
        optionB: { text: "看起来乱，但自己心里有数", type: "P" }
    },
    {
        id: 83,
        text: "当你开始做一件事时，你更习惯：",
        optionA: { text: "先明确目标和步骤，再动手", type: "J" },
        optionB: { text: "先动起来，一边做一边摸索", type: "P" }
    },
    {
        id: 84,
        text: "你更喜欢哪种任务：",
        optionA: { text: "有清晰边界和完成标准的任务", type: "J" },
        optionB: { text: "可以自己定义流程和结果的任务", type: "P" }
    },
    {
        id: 85,
        text: "别人觉得你更像：",
        optionA: { text: "有条理、靠谱、值得托付", type: "J" },
        optionB: { text: "灵活、随性、充满即兴感", type: "P" }
    },
    {
        id: 86,
        text: "当一件事情还没定好时，你会：",
        optionA: { text: "有些焦虑，想尽快敲定", type: "J" },
        optionB: { text: "可以拖一拖，先保持开放", type: "P" }
    },
    {
        id: 87,
        text: "你对“临时改变计划”的接受度：",
        optionA: { text: "不太喜欢，尽量避免", type: "J" },
        optionB: { text: "没关系，甚至会觉得更有趣", type: "P" }
    },
    {
        id: 88,
        text: "在做多件事时，你更可能：",
        optionA: { text: "排优先级，按顺序一个个来", type: "J" },
        optionB: { text: "多线并行，想到哪做到哪", type: "P" }
    },
    {
        id: 89,
        text: "你更享受哪种日程表：",
        optionA: { text: "时间和事项都写得相对清楚", type: "J" },
        optionB: { text: "只标出重点，其余随缘安排", type: "P" }
    },
    {
        id: 90,
        text: "面对突然出现的新机会，你会：",
        optionA: { text: "先看是否影响原有计划", type: "J" },
        optionB: { text: "先试着接一下，再看怎么调整", type: "P" }
    },
    {
        id: 91,
        text: "你做事时，更希望：",
        optionA: { text: "事情有个明确的结束点", type: "J" },
        optionB: { text: "可以不断调整和优化，不必那么快定型", type: "P" }
    },
    {
        id: 92,
        text: "别人对你的吐槽更可能是：",
        optionA: { text: "有点死板，太在意规则", type: "J" },
        optionB: { text: "有点拖延，太随性不稳定", type: "P" }
    },
    {
        id: 93,
        text: "在分配任务时，你更喜欢：",
        optionA: { text: "提前知道具体内容和期限", type: "J" },
        optionB: { text: "给个方向，细节可以自己决定", type: "P" }
    },
    {
        id: 94,
        text: "你更倾向的生活节奏是：",
        optionA: { text: "每天大致按固定模式进行", type: "J" },
        optionB: { text: "每天都有可能完全不同", type: "P" }
    },
    {
        id: 95,
        text: "面对“突发灵感”和“既定任务”，你更会先：",
        optionA: { text: "完成手头既定任务再说", type: "J" },
        optionB: { text: "先趁热把灵感做点东西出来", type: "P" }
    },
    {
        id: 96,
        text: "当你把一件事情做好后，你更希望：",
        optionA: { text: "结束归档，不要再反复改动", type: "J" },
        optionB: { text: "以后还可以随时回来继续优化", type: "P" }
    },
    {
        id: 97,
        text: "你对“提前很多完成任务”的感受：",
        optionA: { text: "安心舒服，可以提前放松", type: "J" },
        optionB: { text: "有点怪，反正最后再冲也能完成", type: "P" }
    },
    {
        id: 98,
        text: "你更容易出现哪种情况：",
        optionA: { text: "事都做完了才会真正放松", type: "J" },
        optionB: { text: "事情没完全做完也能先玩一会儿", type: "P" }
    },
    {
        id: 99,
        text: "如果必须选择一种评价，你更接受：",
        optionA: { text: "可靠稳定，按时完成任务", type: "J" },
        optionB: { text: "灵活机动，善于应对变化", type: "P" }
    },
    {
        id: 100,
        text: "综合来看，你更希望自己的生活：",
        optionA: { text: "有秩序、有计划、可预期", type: "J" },
        optionB: { text: "充满弹性、变化和惊喜", type: "P" }
    }
];


        const personalityData = {
    /* ================== 战略家 · INTJ ================== */
    "INTJ": {
        title: "战略家 (The Architect)",
        rarity: "约 2% · 稀有人群",
        careers: [
            { name: "系统架构师", match: 98 },
            { name: "战略咨询顾问", match: 95 },
            { name: "AI / 算法科学家", match: 92 },
            { name: "投资分析师", match: 89 },
            { name: "科研项目负责人", match: 86 }
        ],
        relationships: {
            soulmate: "ENFP",
            conflict: "ESFP"
        },
        details: `
            <h3><i class="fas fa-brain"></i> 认知架构解析</h3>
            <p>作为 INTJ，你习惯先搭建一套完整的逻辑体系，再去行动。主导功能<strong>内向直觉（Ni）</strong>让你天然关注长期趋势和隐含规律，辅以<strong>外向思维（Te）</strong>，使你擅长做出理性、冷静、高效的决策。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>全局规划能力</strong>
                    <span class="text-sm text-slate-400">擅长从 0 到 1 设计系统与路线图，看得远、算得清。</span>
                </div>
                <div class="report-card">
                    <strong>理性而独立</strong>
                    <span class="text-sm text-slate-400">不轻易随波逐流，更相信证据和逻辑，而不是情绪和氛围。</span>
                </div>
            </div>
        `
    },

    /* ================== 逻辑学家 · INTP ================== */
    "INTP": {
        title: "逻辑学家 (The Logician)",
        rarity: "约 3% · 思考者",
        careers: [
            { name: "算法工程师", match: 96 },
            { name: "理论研究员", match: 94 },
            { name: "数据科学家", match: 92 },
            { name: "产品架构设计师", match: 88 },
            { name: "发明家 / 创客", match: 85 }
        ],
        relationships: {
            soulmate: "ENTJ",
            conflict: "ESFJ"
        },
        details: `
            <h3><i class="fas fa-brain"></i> 认知架构解析</h3>
            <p>INTP 往往被称为“人形调试器”。主导功能<strong>内向思维（Ti）</strong>驱动你不断拆解概念、优化模型，追求“逻辑上自洽”。辅助功能<strong>外向直觉（Ne）</strong>让你在多个可能性之间跳跃，提出别人想不到的点子。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>强悍的抽象能力</strong>
                    <span class="text-sm text-slate-400">能迅速抓住问题的本质，用简单模型解释复杂现象。</span>
                </div>
                <div class="report-card">
                    <strong>创造性解题</strong>
                    <span class="text-sm text-slate-400">不按套路出牌，喜欢用“非常规路径”解决技术或理论难题。</span>
                </div>
            </div>
        `
    },

    /* ================== 指挥官 · ENTJ ================== */
    "ENTJ": {
        title: "指挥官 (The Commander)",
        rarity: "约 2% · 领导型",
        careers: [
            { name: "企业管理者 / CEO", match: 97 },
            { name: "战略咨询合伙人", match: 95 },
            { name: "商业拓展负责人", match: 92 },
            { name: "投行 / PE 合伙人", match: 90 },
            { name: "大型项目总监", match: 88 }
        ],
        relationships: {
            soulmate: "INTP",
            conflict: "ISFP"
        },
        details: `
            <h3><i class="fas fa-bullseye"></i> 认知架构解析</h3>
            <p>ENTJ 天生带有“把事情做成”的气场。主导功能<strong>外向思维（Te）</strong>让你非常在意效率、结果和目标达成，辅助的<strong>内向直觉（Ni）</strong>又使你不会只盯眼前，而是能搭建宏观蓝图。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>决策与执行力</strong>
                    <span class="text-sm text-slate-400">能快速评估方案利弊，下决定并推动团队落地。</span>
                </div>
                <div class="report-card">
                    <strong>组织与统筹</strong>
                    <span class="text-sm text-slate-400">擅长合理分配资源，搭建流程，把混乱变成秩序。</span>
                </div>
            </div>
        `
    },

    /* ================== 辩论家 · ENTP ================== */
    "ENTP": {
        title: "辩论家 (The Debater)",
        rarity: "约 3% · 颠覆者",
        careers: [
            { name: "创新产品经理", match: 95 },
            { name: "创业者 / 连续创业者", match: 94 },
            { name: "品牌策划 / 创意总监", match: 92 },
            { name: "商业模式设计师", match: 90 },
            { name: "战略顾问", match: 87 }
        ],
        relationships: {
            soulmate: "INFJ",
            conflict: "ISFJ"
        },
        details: `
            <h3><i class="fas fa-brain"></i> 认知架构解析</h3>
            <p>ENTP 喜欢拆掉旧框架，建立新规则。主导功能<strong>外向直觉（Ne）</strong>让你对“新点子、新玩法、新机会”高度敏感，辅以<strong>内向思维（Ti）</strong>，使你能迅速评估这些想法是否逻辑上站得住脚。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>创意与洞察</strong>
                    <span class="text-sm text-slate-400">极善于头脑风暴，在看似无关的点之间建立连接。</span>
                </div>
                <div class="report-card">
                    <strong>辩论与说服</strong>
                    <span class="text-sm text-slate-400">喜欢从不同角度挑战观点，推动团队跳出舒适区。</span>
                </div>
            </div>
        `
    },

    /* ================== 提倡者 · INFJ ================== */
    "INFJ": {
        title: "提倡者 (The Advocate)",
        rarity: "约 1.5% · 极稀有人群",
        careers: [
            { name: "心理咨询师", match: 96 },
            { name: "公益 / 社会创新者", match: 94 },
            { name: "教育工作者", match: 91 },
            { name: "作家 / 内容创作者", match: 89 },
            { name: "人力发展顾问", match: 86 }
        ],
        relationships: {
            soulmate: "ENFP",
            conflict: "ESTP"
        },
        details: `
            <h3><i class="fas fa-heart"></i> 认知架构解析</h3>
            <p>INFJ 常常是安静但影响力深远的“价值观放大器”。主导功能<strong>内向直觉（Ni）</strong>让你关注人生意义和长远方向，辅以<strong>外向情感（Fe）</strong>，使你愿意投入精力去改善他人的处境。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>共情与洞察人心</strong>
                    <span class="text-sm text-slate-400">能敏锐感受到他人未说出口的情绪和需求。</span>
                </div>
                <div class="report-card">
                    <strong>价值驱动</strong>
                    <span class="text-sm text-slate-400">做选择时会考虑“是否符合内心信念”，而不只是收益大小。</span>
                </div>
            </div>
        `
    },

    /* ================== 调停者 · INFP ================== */
    "INFP": {
        title: "调停者 (The Mediator)",
        rarity: "约 4% · 理想主义者",
        careers: [
            { name: "小说家 / 编剧", match: 95 },
            { name: "心理咨询 / 助人职业", match: 92 },
            { name: "原创内容创作者", match: 90 },
            { name: "文化 / 艺术相关职业", match: 88 },
            { name: "公益项目策划", match: 85 }
        ],
        relationships: {
            soulmate: "ENFJ",
            conflict: "ESTJ"
        },
        details: `
            <h3><i class="fas fa-feather-alt"></i> 认知架构解析</h3>
            <p>INFP 的世界以“内心价值”为坐标。主导功能<strong>内向情感（Fi）</strong>让你极其在意“这是不是我认同的”，辅助的<strong>外向直觉（Ne）</strong>又带来丰富想象力，使你善于用故事、文字或艺术表达自我。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>深度共情</strong>
                    <span class="text-sm text-slate-400">会真心站在他人立场思考，而不是“表面安慰”。</span>
                </div>
                <div class="report-card">
                    <strong>创意表达力</strong>
                    <span class="text-sm text-slate-400">擅长把抽象情绪转化为文字、画面或音乐。</span>
                </div>
            </div>
        `
    },

    /* ================== 主人公 · ENFJ ================== */
    "ENFJ": {
        title: "主人公 (The Protagonist)",
        rarity: "约 2.5% · 氛围核心",
        careers: [
            { name: "团队领导 / 管理者", match: 95 },
            { name: "教育培训讲师", match: 93 },
            { name: "组织发展顾问", match: 91 },
            { name: "HR / 文化负责人", match: 89 },
            { name: "公益 / 社会组织负责人", match: 87 }
        ],
        relationships: {
            soulmate: "INFP",
            conflict: "ISTP"
        },
        details: `
            <h3><i class="fas fa-users"></i> 认知架构解析</h3>
            <p>ENFJ 像是团队里的“人心发动机”。主导功能<strong>外向情感（Fe）</strong>使你非常敏感于群体气氛与关系，辅助的<strong>内向直觉（Ni）</strong>让你愿意为他人规划更长期的发展路径。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>激励他人</strong>
                    <span class="text-sm text-slate-400">善于鼓舞、组织和带动团队，让每个人都看到自己的价值。</span>
                </div>
                <div class="report-card">
                    <strong>协调与沟通</strong>
                    <span class="text-sm text-slate-400">可以在不同立场之间寻找平衡点，促成共识。</span>
                </div>
            </div>
        `
    },

    /* ================== 活动家 · ENFP ================== */
    "ENFP": {
        title: "活动家 (The Campaigner)",
        rarity: "约 7% · 灵感发射机",
        careers: [
            { name: "创意策划 / 文案", match: 94 },
            { name: "新媒体 / 内容博主", match: 93 },
            { name: "产品体验设计师", match: 90 },
            { name: "咨询 / 教练类工作", match: 88 },
            { name: "品牌公关 / 市场", match: 86 }
        ],
        relationships: {
            soulmate: "INTJ",
            conflict: "ISTJ"
        },
        details: `
            <h3><i class="fas fa-magic"></i> 认知架构解析</h3>
            <p>ENFP 像行走的“多巴胺与创意泉眼”。主导功能<strong>外向直觉（Ne）</strong>让你对新鲜事物高度感兴趣，而<strong>内向情感（Fi）</strong>又确保你不会完全被外界裹挟，仍然坚持自己的价值观。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>超强连接力</strong>
                    <span class="text-sm text-slate-400">容易和各种类型的人打成一片，构建广泛的人脉网络。</span>
                </div>
                <div class="report-card">
                    <strong>灵感驱动</strong>
                    <span class="text-sm text-slate-400">能在平凡事物中发现有趣切入点，给团队带来活力与点子。</span>
                </div>
            </div>
        `
    },

    /* ================== 物流师 · ISTJ ================== */
    "ISTJ": {
        title: "物流师 (The Logistician)",
        rarity: "约 11% · 稳定基石",
        careers: [
            { name: "财务 / 审计", match: 94 },
            { name: "行政管理 / 运营", match: 92 },
            { name: "项目执行专员", match: 90 },
            { name: "工程实施 / 质检", match: 88 },
            { name: "法律 / 合规相关", match: 86 }
        ],
        relationships: {
            soulmate: "ESFP",
            conflict: "ENFP"
        },
        details: `
            <h3><i class="fas fa-shield-alt"></i> 认知架构解析</h3>
            <p>ISTJ 是典型的“靠谱代名词”。主导功能<strong>内向感觉（Si）</strong>让你重视经验、规则与稳定，辅以<strong>外向思维（Te）</strong>，保证你在执行任务时高效、认真且有条理。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>责任心极强</strong>
                    <span class="text-sm text-slate-400">说到做到，答应的事情会尽全力完成。</span>
                </div>
                <div class="report-card">
                    <strong>细节与秩序</strong>
                    <span class="text-sm text-slate-400">擅长检查疏漏、维护流程，适合需要精确度的岗位。</span>
                </div>
            </div>
        `
    },

    /* ================== 守卫者 · ISFJ ================== */
    "ISFJ": {
        title: "守卫者 (The Defender)",
        rarity: "约 9% · 默默付出者",
        careers: [
            { name: "护士 / 医护人员", match: 95 },
            { name: "教师 / 班主任", match: 93 },
            { name: "行政 / 后勤支持", match: 91 },
            { name: "客户服务 / 顾问", match: 89 },
            { name: "人事 / 职场支持类岗位", match: 87 }
        ],
        relationships: {
            soulmate: "ESFP",
            conflict: "ENTP"
        },
        details: `
            <h3><i class="fas fa-hands-helping"></i> 认知架构解析</h3>
            <p>ISFJ 常常是团队里“最细腻的守护者”。主导功能<strong>内向感觉（Si）</strong>让你记得别人忽略的小细节，辅助的<strong>外向情感（Fe）</strong>又促使你主动照顾他人的需求与情绪。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>体贴与温度</strong>
                    <span class="text-sm text-slate-400">会默默记住他人的喜好，并在不经意处给出帮助。</span>
                </div>
                <div class="report-card">
                    <strong>稳定可靠</strong>
                    <span class="text-sm text-slate-400">适合需要长期耐心、细心和高度责任感的工作场景。</span>
                </div>
            </div>
        `
    },

    /* ================== 总经理 · ESTJ ================== */
    "ESTJ": {
        title: "总经理 (The Executive)",
        rarity: "约 8% · 管理中坚",
        careers: [
            { name: "部门经理 / 主管", match: 95 },
            { name: "项目经理", match: 93 },
            { name: "运营管理 / 流程负责人", match: 91 },
            { name: "采购 / 供应链管理", match: 89 },
            { name: "行政 / 政务相关岗位", match: 87 }
        ],
        relationships: {
            soulmate: "ISFP",
            conflict: "INFP"
        },
        details: `
            <h3><i class="fas fa-gavel"></i> 认知架构解析</h3>
            <p>ESTJ 像是现实世界的“规则执行引擎”。主导功能<strong>外向思维（Te）</strong>让你重视效率与标准，辅以<strong>内向感觉（Si）</strong>，使你倾向于沿用成熟经验来确保结果稳定可靠。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>制度与秩序构建</strong>
                    <span class="text-sm text-slate-400">擅长制定流程、规范团队行为，减少“各搞各的”。</span>
                </div>
                <div class="report-card">
                    <strong>执行与监督</strong>
                    <span class="text-sm text-slate-400">会跟进每个节点，确保目标按时按量完成。</span>
                </div>
            </div>
        `
    },

    /* ================== 领事 · ESFJ ================== */
    "ESFJ": {
        title: "领事 (The Consul)",
        rarity: "约 9% · 社交协调者",
        careers: [
            { name: "班主任 / 教务", match: 94 },
            { name: "HR / 培训专员", match: 92 },
            { name: "销售 / 客户经理", match: 90 },
            { name: "活动策划 / 执行", match: 88 },
            { name: "医护 / 护理相关", match: 86 }
        ],
        relationships: {
            soulmate: "ISFP",
            conflict: "INTP"
        },
        details: `
            <h3><i class="fas fa-smile-beam"></i> 认知架构解析</h3>
            <p>ESFJ 通常是环境里的“氛围管理员”。主导功能<strong>外向情感（Fe）</strong>让你高度关注人际关系和集体和谐，辅以<strong>内向感觉（Si）</strong>，使你在照顾他人时既细致又踏实。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>人际维护</strong>
                    <span class="text-sm text-slate-400">擅长拉近人与人之间的距离，营造温暖的团队氛围。</span>
                </div>
                <div class="report-card">
                    <strong>服务意识强</strong>
                    <span class="text-sm text-slate-400">会主动发现他人需要什么，并提供具体而实际的帮助。</span>
                </div>
            </div>
        `
    },

    /* ================== 鉴赏家 · ISTP ================== */
    "ISTP": {
        title: "鉴赏家 (The Virtuoso)",
        rarity: "约 5% · 技术玩家",
        careers: [
            { name: "工程师 / 技术工程", match: 95 },
            { name: "机械 / 结构设计", match: 93 },
            { name: "运维 / 技术支持", match: 91 },
            { name: "极限运动 / 户外相关", match: 88 },
            { name: "产品打样 / 手工制作", match: 86 }
        ],
        relationships: {
            soulmate: "ESFJ",
            conflict: "ENFJ"
        },
        details: `
            <h3><i class="fas fa-tools"></i> 认知架构解析</h3>
            <p>ISTP 喜欢“动手拆开世界”。主导功能<strong>内向思维（Ti）</strong>让你想搞清楚“它到底怎么运作”，辅以<strong>外向感觉（Se）</strong>，使你乐于亲自上手尝试、实验与优化。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>动手与实作能力</strong>
                    <span class="text-sm text-slate-400">在真实环境中解决问题，比纸上谈兵更让你兴奋。</span>
                </div>
                <div class="report-card">
                    <strong>冷静处变</strong>
                    <span class="text-sm text-slate-400">在突发情况中保持理智，快速判断最佳操作步骤。</span>
                </div>
            </div>
        `
    },

    /* ================== 冒险家 · ISFP ================== */
    "ISFP": {
        title: "探险家 (The Adventurer)",
        rarity: "约 6% · 氛围艺术家",
        careers: [
            { name: "设计师 / 视觉艺术", match: 95 },
            { name: "插画 / 摄影", match: 93 },
            { name: "手作 / 工艺创作者", match: 91 },
            { name: "美容 / 造型相关", match: 88 },
            { name: "音乐 / 表演艺术", match: 86 }
        ],
        relationships: {
            soulmate: "ESTJ",
            conflict: "ENTJ"
        },
        details: `
            <h3><i class="fas fa-palette"></i> 认知架构解析</h3>
            <p>ISFP 是“用感受创作”的类型。主导功能<strong>内向情感（Fi）</strong>让你有强烈而细腻的内在情绪体验，辅以<strong>外向感觉（Se）</strong>，使你愿意通过视觉、触感、声音等方式把美感呈现出来。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>美感品位</strong>
                    <span class="text-sm text-slate-400">能捕捉环境中的色彩、氛围与细节，并做出独特表达。</span>
                </div>
                <div class="report-card">
                    <strong>温柔而真实</strong>
                    <span class="text-sm text-slate-400">不喜欢虚伪包装，更愿意用行动和作品表达自己。</span>
                </div>
            </div>
        `
    },

    /* ================== 企业家 · ESTP ================== */
    "ESTP": {
        title: "企业家 (The Entrepreneur)",
        rarity: "约 4% · 行动派",
        careers: [
            { name: "销售高手 / 业务拓展", match: 96 },
            { name: "创业者", match: 94 },
            { name: "体育 / 竞技相关", match: 91 },
            { name: "活动策划 / 现场执行", match: 89 },
            { name: "高压场景解决者", match: 87 }
        ],
        relationships: {
            soulmate: "ISFJ",
            conflict: "INFJ"
        },
        details: `
            <h3><i class="fas fa-bolt"></i> 认知架构解析</h3>
            <p>ESTP 是“边做边想”的典型代表。主导功能<strong>外向感觉（Se）</strong>让你喜欢直接进入现场感受真实情况，辅以<strong>内向思维（Ti）</strong>，帮助你在行动中不断调整策略、找到高性价比的做法。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>高压环境表现力</strong>
                    <span class="text-sm text-slate-400">越是需要快速反应和大胆决策，你越容易进入“兴奋状态”。</span>
                </div>
                <div class="report-card">
                    <strong>临场 improvisation</strong>
                    <span class="text-sm text-slate-400">能根据现场反馈即时调整话术和行动路线。</span>
                </div>
            </div>
        `
    },

    /* ================== 表演者 · ESFP ================== */
    "ESFP": {
        title: "表演者 (The Entertainer)",
        rarity: "约 7% · 氛围王者",
        careers: [
            { name: "主播 / 表演者", match: 95 },
            { name: "主持 / 活动现场控场", match: 93 },
            { name: "旅游 / 体验博主", match: 91 },
            { name: "销售 / 市场推广", match: 89 },
            { name: "服务体验设计", match: 86 }
        ],
        relationships: {
            soulmate: "ISTJ",
            conflict: "INTJ"
        },
        details: `
            <h3><i class="fas fa-music"></i> 认知架构解析</h3>
            <p>ESFP 是天生的“现场氛围制造机”。主导功能<strong>外向感觉（Se）</strong>让你极其敏感当下的色彩、音乐与情绪，辅以<strong>内向情感（Fi）</strong>，使你真心想让身边的人放松、开心、享受当下。</p>
            <h3><i class="fas fa-lightbulb"></i> 核心优势</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-4">
                <div class="report-card">
                    <strong>现场感染力</strong>
                    <span class="text-sm text-slate-400">擅长让本来轻微尴尬的场面变得热烈、有趣。</span>
                </div>
                <div class="report-card">
                    <strong>体验至上</strong>
                    <span class="text-sm text-slate-400">对“好玩、好看、好感觉”有天然敏感度，适合做体验相关工作。</span>
                </div>
            </div>
        `
    },

    /* ================== 默认兜底 ================== */
    "DEFAULT": {
        title: "未知人格",
        rarity: "分析中...",
        careers: [
            { name: "数据收集中", match: 0 }
        ],
        relationships: {
            soulmate: "--",
            conflict: "--"
        },
        details: `
            <p>当前回答数据不足，或类型落在统计边界区间，系统暂时无法给出精确画像。</p>
            <p>你可以尝试重新作答，或在专业版中完成更多题目，以获得更清晰的性格轮廓。</p>
        `
    }
};

        let currentQuestionIndex = 0;
        let userAnswers = [];
        let maxQuestions = 0;
        let radarChartInstance = null;

        // UI 引用
        const screens = {
            start: document.getElementById('start-screen'),
            quiz: document.getElementById('quiz-screen'),
            loading: document.getElementById('loading-screen'),
            result: document.getElementById('result-screen')
        };

        // 启动
        function startQuiz(mode) {
            // 逻辑：快速版最多做32题（如果数组够长），专业版做所有题
            // 但不能超过实际题目数组的长度，防止报错
            if (mode === 'simple') {
                maxQuestions = Math.min(32, questions.length);
            } else {
                maxQuestions = questions.length;
            }
            
            // UI 切换动画
            screens.start.classList.add('slide-out-left');
            setTimeout(() => {
                screens.start.classList.add('hidden');
                screens.start.classList.remove('slide-out-left');
                
                screens.quiz.classList.remove('hidden');
                screens.quiz.classList.add('fade-in');
                
                // 侧边栏动效
                document.getElementById('mode-indicator').style.opacity = '1';
                document.getElementById('sidebar-stats').style.opacity = '1';
                document.getElementById('mode-name-text').innerText = mode === 'simple' ? '快速扫描' : '深度解析';
                
                loadQuestion();
            }, 400);
        }

        function loadQuestion() {
            if (currentQuestionIndex >= maxQuestions) {
                startAnalysis();
                return;
            }

            const q = questions[currentQuestionIndex];
            const container = document.getElementById('question-container');
            
            // 简单的淡入淡出
            container.style.opacity = '0';
            container.style.transform = 'translateY(10px)';
            
            setTimeout(() => {
                document.getElementById('question-text').innerText = q.text;
                document.getElementById('option-a-text').innerText = q.optionA.text;
                document.getElementById('option-b-text').innerText = q.optionB.text;
                document.getElementById('question-counter-text').innerText = (currentQuestionIndex + 1).toString().padStart(2, '0');
                
                // 重置按钮样式
                document.querySelectorAll('#quiz-screen button[id^="btn-option"]').forEach(btn => {
                    btn.className = "group w-full p-6 rounded-2xl border border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/30 transition-all duration-300 text-left flex items-center relative overflow-hidden shadow-sm";
                    const badge = btn.querySelector('div:nth-child(2)');
                    badge.className = "w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-lg font-bold mr-6 text-slate-400 group-hover:text-white transition-all font-mono z-10 flex-shrink-0";
                    // 移除选中光效背景
                    const bg = btn.querySelector('div:first-child');
                    bg.classList.remove('opacity-100');
                    bg.classList.add('opacity-0');
                });

                // 上一题按钮逻辑
                const prevBtn = document.getElementById('btn-prev');
                if (currentQuestionIndex > 0) {
                    prevBtn.style.opacity = '1';
                    prevBtn.style.pointerEvents = 'auto';
                } else {
                    prevBtn.style.opacity = '0';
                    prevBtn.style.pointerEvents = 'none';
                }

                updateProgress();

                container.style.transition = 'all 0.4s ease-out';
                container.style.opacity = '1';
                container.style.transform = 'translateY(0)';
            }, 200);
        }

        function selectOption(choice) {
            const q = questions[currentQuestionIndex];
            userAnswers[currentQuestionIndex] = choice === 'A' ? q.optionA.type : q.optionB.type;

            // 选中视觉反馈 (更完美的交互)
            const btnId = choice === 'A' ? 'btn-option-a' : 'btn-option-b';
            const btn = document.getElementById(btnId);
            const colorClass = choice === 'A' ? 'border-indigo-500 bg-indigo-600/10' : 'border-purple-500 bg-purple-600/10';
            const glowClass = choice === 'A' ? 'shadow-[0_0_20px_rgba(99,102,241,0.2)]' : 'shadow-[0_0_20px_rgba(168,85,247,0.2)]';
            
            btn.className = `w-full p-6 rounded-2xl border ${colorClass} ${glowClass} transition-all duration-200 text-left flex items-center relative overflow-hidden`;
            
            // 激活 badge 颜色
            const badge = btn.querySelector('div:nth-child(2)');
            badge.classList.remove('bg-white/5', 'text-slate-400');
            badge.classList.add(choice === 'A' ? 'bg-indigo-500' : 'bg-purple-500', 'text-white', 'border-transparent');

            setTimeout(() => {
                currentQuestionIndex++;
                loadQuestion();
            }, 300);
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function updateProgress() {
            const pct = Math.round(((currentQuestionIndex) / maxQuestions) * 100);
            document.getElementById('percentage-display').innerText = `${pct}%`;
            document.getElementById('sidebar-progress').style.width = `${pct}%`;
            // 顶部进度条
            document.getElementById('top-progress-bar').style.width = `${pct}%`;
        }

        function startAnalysis() {
            screens.quiz.classList.add('hidden');
            screens.loading.classList.remove('hidden');
            screens.loading.classList.add('flex');
            
            let pct = 0;
            const pctEl = document.getElementById('loading-percent');
            const textEl = document.getElementById('loading-text');
            const phases = ["正在连接神经网络...", "解码认知堆栈...", "合成人格矩阵..."];
            
            const interval = setInterval(() => {
                pct += Math.floor(Math.random() * 5) + 1;
                if (pct > 100) pct = 100;
                pctEl.innerText = `${pct}%`;
                
                // 阶段性文字变化
                if(pct < 30) textEl.innerText = phases[0];
                else if(pct < 70) textEl.innerText = phases[1];
                else textEl.innerText = phases[2];

                if (pct === 100) {
                    clearInterval(interval);
                    setTimeout(finishQuiz, 500);
                }
            }, 50);
        }

        function finishQuiz() {
            screens.loading.classList.add('hidden');
            screens.loading.classList.remove('flex');
            screens.result.classList.remove('hidden');
            
            // 简单计算逻辑
            const scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            userAnswers.forEach(a => scores[a] = (scores[a] || 0) + 1);
            
            // 确定类型
            let type = "";
            type += scores.E >= scores.I ? "E" : "I";
            type += scores.S >= scores.N ? "S" : "N";
            type += scores.T >= scores.F ? "T" : "F";
            type += scores.J >= scores.P ? "J" : "P";

            const data = personalityData[type] || personalityData["INTJ"]; 

            // 填充数据
            document.getElementById('result-type').innerText = type;
            document.getElementById('result-title').innerText = data.title;
            document.getElementById('rarity-tag').innerText = data.rarity;
            document.getElementById('result-content').innerHTML = data.details;

            // 填充维度条
            const calcPct = (a, b) => { const total = a+b; return total===0 ? 50 : Math.round((a/total)*100); };
            
            // 辅助函数：更新进度条和文字
            const setBar = (id1, id2, val1, val2) => {
                const p1 = calcPct(val1, val2);
                const p2 = 100 - p1;
                document.getElementById(`bar-${id1}`).style.width = `${p1}%`;
                document.getElementById(`bar-${id2}`).style.width = `${p2}%`;
                document.getElementById(`text-${id1}-val`).innerText = `${p1}%`;
                document.getElementById(`text-${id2}-val`).innerText = `${p2}%`;
            };

            setBar('e', 'i', scores.E, scores.I);
            setBar('s', 'n', scores.S, scores.N);
            setBar('t', 'f', scores.T, scores.F);
            setBar('j', 'p', scores.J, scores.P);

            // 生成职业列表
            const careerHTML = (data.careers || []).map(c => `
                <div class="bg-white/5 p-3 rounded-lg border border-white/5 text-center hover:bg-white/10 transition-colors group">
                    <div class="text-2xl font-bold text-neon-blue mb-1 group-hover:scale-110 transition-transform">${c.match}%</div>
                    <div class="text-xs text-slate-300">${c.name}</div>
                </div>
            `).join('');
            document.getElementById('career-list').innerHTML = careerHTML;

            // 生成关系
            const relHTML = `
                <div class="flex items-center justify-between bg-white/5 p-3 rounded-lg">
                    <span class="text-sm text-slate-300">灵魂伴侣</span>
                    <span class="font-bold text-neon-purple font-mono">${data.relationships?.soulmate || '--'}</span>
                </div>
                 <div class="flex items-center justify-between bg-white/5 p-3 rounded-lg">
                    <span class="text-sm text-slate-300">潜在冲突</span>
                    <span class="font-bold text-slate-500 font-mono">${data.relationships?.conflict || '--'}</span>
                </div>
            `;
            document.getElementById('relationship-content').innerHTML = relHTML;

            // 渲染雷达图
            renderRadar([scores.E, scores.S, scores.T, scores.J, scores.I, scores.N, scores.F, scores.P]);
        }

        function renderRadar(dataValues) {
            const ctx = document.getElementById('radarChart').getContext('2d');
            if (radarChartInstance) radarChartInstance.destroy();

            radarChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['E', 'S', 'T', 'J', 'I', 'N', 'F', 'P'],
                    datasets: [{
                        label: 'Value',
                        data: dataValues,
                        backgroundColor: 'rgba(0, 243, 255, 0.2)',
                        borderColor: '#00f3ff',
                        borderWidth: 2,
                        pointBackgroundColor: '#fff',
                        pointRadius: 3
                    }]
                },
                options: {
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(255, 255, 255, 0.1)' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)', circular: true },
                            pointLabels: { color: 'rgba(255, 255, 255, 0.7)', font: { size: 10 } },
                            ticks: { display: false }
                        }
                    },
                    plugins: { legend: { display: false } },
                    maintainAspectRatio: false,
                    animation: { duration: 2000, easing: 'easeOutQuart' }
                }
            });
        }

        function goHome() {
            currentQuestionIndex = 0;
            userAnswers = [];
            screens.result.classList.add('hidden');
            screens.quiz.classList.add('hidden');
            screens.loading.classList.add('hidden');
            
            screens.start.classList.remove('hidden');
            screens.start.classList.add('fade-in');
            
            document.getElementById('mode-indicator').style.opacity = '0';
            document.getElementById('sidebar-stats').style.opacity = '0';
            document.getElementById('sidebar-progress').style.width = '0%';
            document.getElementById('percentage-display').innerText = '0%';
            // 重置顶部进度条
            document.getElementById('top-progress-bar').style.width = '0%';
        }
    </script>
</body>
</html>
